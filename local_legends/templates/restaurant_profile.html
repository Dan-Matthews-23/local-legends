{% extends "base.html" %}
{% block content %}



<div class="container align-center card-panel grey lighten-5">
    <div class="row">
        <div class="col card-panel grey lighten-5">
            <form action="{{ url_for('handle_leave_review', restaurant_id=restaurant.restaurant_id) }}" method="POST">
                <div class="row ">
                    <div class="col">
                        <h3>How would you rate your experience?</h3>
                    </div>
                </div>
                {% if not session.is_logged_in %}
                <div class="row ">
                    <div class="col">
                        <h4>
                            You must sign in before you can leave a review. <a href="{{ url_for('login') }}">Click here
                                to sign in</a></h3>
                    </div>
                </div>
                {% else %}
                <div class="col s12 m12 l12 xl12 card-panel ">
                    <div class="row ">
                        <div class="col s6 m6 l6 xl6 ">
                            <label for="edit_taste_stars">
                                <h4>How would you rate the taste?</h4>
                            </label>
                        </div>
                        <div class="rating">
                            <input id="rating1" type="radio" name="rating" value="1">
                            <label for="rating1">1</label>
                            <input id="rating2" type="radio" name="rating" value="2">
                            <label for="rating2">2</label>
                            <input id="rating3" type="radio" name="rating" value="3">
                            <label for="rating3">3</label>
                            <input id="rating4" type="radio" name="rating" value="4">
                            <label for="rating4">4</label>
                            <input id="rating5" type="radio" name="rating" value="5">
                            <label for="rating5">5</label>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col s12 center-align">
                            <button type="submit" class="btn-large light-blue darken-1">Submit Review<i
                                    class="fas fa-edit right"></i>
                            </button>
                        </div>
                    </div>
                </div>
               
        </div>
    </div>
</div>
</div>
{% endif %}
</form>
</div>
<!--</div>-->
</div>
</div>
<h3 class="light-blue-text text-darken-4 center-align">See what others think</h3>
{% for reviews in reviews %}
<button type="button" class="collapsible">{{ reviews.written_review_title }}</button>
<div class="content ">
    <div class="restaurant-details-container ">
        <div class="row ">
            <div class="col lg-padding restaurant-details-container">
                <!--THIS IS THE START OF THE FIRST HALF OF THE CONTAINER-->
                <div class="col s12 m12 l12 xl6 left-panel-container ">
                    <div class="col s2 m2 l2 xl2 "></div>
                    <div class="col s8 m8 l8 xl8 stars-div card-panel ">
                        <div class="row ">
                            <div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">Overall</div>
                            <div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">{{
                                reviews.overall_stars }}
                            </div>
                        </div>
                        <div class="row ">
                            <div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">Taste</div>
                            <div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">{{
                                reviews.taste_stars }}
                            </div>
                        </div>
                        <div class="row row display-table-row-border  ">
                            <div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">Presentation</div>
                            <div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">{{
                                reviews.presentation_stars }}
                            </div>
                        </div>
                        <div class="row ">
                            <div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">Friendliness</div>
                            <div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">{{
                                reviews.friendliness_stars }}
                            </div>
                        </div>
                        <div class="row ">
                            <div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">Price</div>
                            <div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">{{
                                reviews.price_stars }}
                            </div>
                        </div>
                        <div class="row ">
                            <div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">Ambience</div>
                            <div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">{{
                                reviews.ambience_stars }}
                            </div>
                        </div>
                    </div>
                    <div class="col s2 m2 l2 xl2 "></div>
                </div>
                <!--THIS IS THE START OF THE SECOND HALF OF THE CONTAINER-->
                <div class="col s12 m12 l12 xl6 left-panel-container">
                    <div class="col align-center  s12">Review Details</div>
                    <div class="col s1 m1 l1 xl1 "></div>
                    <div class="col s10 m10 l10 xl10 stars-div card-panel ">
                        <div class="row restaurant-stars-display-row">
                            <!--<div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">Name</div>-->
                            <div class="col s12 m12 l12 xl12 review-display review-title-text ">"{{
                                reviews.written_review_title }}"</div>
                        </div>
                        <div class="row row display-table-row-border  ">
                            <!--<div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">Name</div>-->
                            <div class="col s12 m12 l12 xl12  review-body-text ">{{reviews.written_review }}</div>
                        </div>
                        <div class="row ">
                            <!--<div class="col s6 m6 l6 xl6 restaurant-stars-display-col ">Name</div>-->
                            <div class="col s12 m12 l12 xl12 review-display review-body-text ">Posted on {{
                                reviews.review_date }} by {{ reviews.user_id }}</div>
                        </div>
                    </div>
                    <div class="col s1 m1 l1 xl1 "></div>
                </div>
            </div>
        </div>
    </div>
    {% if session.user_id == reviews.user_id %}
    <div class="row with-borders s12 m12 l12 xl12 align-center">
        <div class="col with-borders s12 m12 l12 xl12 align-center">
            <form action="{{ url_for('edit_review', review_id=reviews.review_id) }}" method="POST">
                <button type="submit" class="see-reviews">Edit Review</button>
            </form>
        </div>
    </div>
    {% endif %}
</div>
{% endfor %}
</div>
{% endblock %}