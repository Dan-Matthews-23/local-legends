CREATE TABLE restaurants (
restaurant_id SERIAL,
restaurant_name varchar(255) NOT NULL,
restaurant_address_one varchar(255) NOT NULL,
restaurant_address_two varchar(255),
restaurant_address_three varchar(255),
restaurant_address_four varchar(255),
restaurant_address_postcode varchar(255) NOT NULL,
restaurant_average_taste_stars int,
restaurant_average_presentation_stars int,
restaurant_average_friendliness_stars int,
restaurant_average_price_stars int,
restaurant_average_ambience_stars int,
restaurant_average_overall_stars int,
PRIMARY KEY (restaurant_id)
);

INSERT INTO restaurants (restaurant_name, restaurant_address_one, restaurant_address_two, 
restaurant_address_three, restaurant_address_four, restaurant_address_postcode,  restaurant_average_taste_stars, restaurant_average_presentation_stars, restaurant_average_friendliness_stars, restaurant_average_price_stars, restaurant_average_ambience_stars, restaurant_average_overall_stars, user_id) VALUES ('TEST_NAME', 'TEST_ADD_ONE', 'TEST_ADD_TWO', 'TEST_ADD_THREE', 'TEST_ADD_FOUR', 'TEST_ADD_POSTCODE', 1, 1, 1, 1, 1, 1, 1);
  
SELECT * FROM restaurants;

CREATE TABLE users (
user_id SERIAL,
email_address varchar (255) NOT NULL,
username varchar(255) NOT NULL,
password varchar(255) NOT NULL,
PRIMARY KEY (user_id)
);

INSERT INTO users (email_address, username, password) VALUES ('TEST_EMAIL', 'TEST_USERNAME', 'TEST_PASSWORD');
SELECT * FROM users;

CREATE TABLE reviews (
review_id SERIAL,
user_id int NOT NULL,
restaurant_id int NOT NULL,
taste_stars int NOT NULL,
presentation_stars int NOT NULL,
friendliness_stars int NOT NULL,
price_stars int NOT NULL,
ambience_stars int NOT NULL,
overall_stars int NOT NULL,
written_review_title varchar (255),
written_review varchar (250),
PRIMARY KEY (review_id)
);

INSERT INTO reviews (user_id, restaurant_id, taste_stars, presentation_stars, friendliness_stars, price_stars, ambience_stars, overall_stars) VALUES (1, 1, 5, 5, 5, 5, 5, 5);
SELECT * FROM reviews;






ORIIGNAL ROUTES
from flask import render_template, request, redirect, url_for
from local_legends import app, db
from local_legends.models import Users, Reviews, Restaurants


@app.route("/")
def home():
    return render_template("register.html")


@app.route("/register", methods=["GET", "POST"])
def register():
    if request.method == "POST":
        username = Users(username=request.form.get("username_register"))
        email = Users(email=request.form.get("email_register"))
        password = Users(password=request.form.get("password_register"))
        db.session.add(username, email, password)
        db.session.commit()
        return redirect(url_for("home"))
    return render_template("index.html")


ORIIGNAL RESTAURAUNTS

{% extends "base.html" %}
{% block content %}

<h3 class="light-blue-text text-darken-4 center-align">Restaurant List</h3>

<div class="row align-center with-borders">
    {% for restaurants in restaurants %}
    <div class="col s12 m6 l3">
        <div class="align-center with-borders col">
            <div class="align-center with-borders col">
                <span class="card-title">{{ restaurants.restaurant_name }}</span>
            </div>
            <div class="align-center with-borders col"><input type="submit" claass="submit-btn" name="leaveReview"
                    id="leaveReview" value="Leave Review"></div>
        </div>
    </div>
    {% endfor %}
</div>

{% endblock %}













INSERT INTO restaurants (restaurant_name, restaurant_address_one, restaurant_address_two, restaurant_address_three, restaurant_address_four, restaurant_address_postcode,  restaurant_average_taste_stars, restaurant_average_presentation_stars, 
restaurant_average_friendliness_stars, restaurant_average_price_stars, restaurant_average_ambience_stars, restaurant_average_overall_stars) VALUES ('Monster Munch', 'Ingleside Street', 'None', 'None', 'None', 'SR1 1UL', 3, 3, 2, 3, 5, 6);








{% extends "base.html" %}
{% block content %}

<h3 class="light-blue-text text-darken-4 center-align">Leave a review</h3>

<div class="row card-panel grey lighten-5">
<form action="{{ url_for('handle_leave_review', restaurant_id=restaurant.restaurant_id) }}" method="POST">

        <!-- restaurant name -->
        <div class="row">
            <div class="col">{{ restaurant.restaurant_name }}</div>
        </div>
        <!--<div class="row">
            <div class="col">
                <fieldset>
                    <legend>How many stars would you rate the taste?</legend>
                        <input type="radio" id="taste_one" name="taste" value="1">
                        <label for="taste_one">1 star</label><br>
                        <input type="radio" id="taste_two" name="taste" value="2">
                        <label for="taste_two">2 stars</label><br>
                        <input type="radio" id="taste_three" name="taste" value="3">
                        <label for="taste_three">3 stars</label><br>
                        <input type="radio" id="taste_four" name="taste" value="4">
                        <label for="taste_four">4 stars</label><br>
                        <input type="radio" id="taste_five" name="taste" value="5">
                        <label for="taste_five">5 stars</label><br>
                </fieldset>                
            </div>
        </div>-->
        <div class="row">
            <div class="col">
                    <input type="text" id="written_review" name="written_review" value="Enter your review here">
                    <label for="written_review">Leave a review</label><br>                   
               
            </div>
        </div>


        <h3 class="light-blue-text text-darken-4 center-align">Current Reviews</h3>
        {% for reviews in reviews %}
        
        <div class="row align-center with-borders"></div>
        <div class="card">
            <div class="card-image waves-effect waves-block waves-light">
                <img class="activator" src="https://en.wikipedia.org/wiki/File:Barbieri_-_ViaSophia25668.jpg">
            </div>
            <div class="card-content">
                <span class="card-title activator grey-text text-darken-4">{{ reviews.written_review }}<i
                        class="material-icons right">See Stars</i></span>
        
            </div>
            <div class="card-reveal">
                <span class="card-title grey-text text-darken-4">Card Title<i class="material-icons right">close</i></span>
                <p>{{ reviews.taste_stars }}.</p>
                <p>{{ reviews.friendliness_stars }}.</p>
                <p>{{ reviews.friendliness_stars }}.</p>
                <p>{{ reviews.ambience_stars }}.</p>
                <p>{{ reviews.overall_stars }}.</p>
            </div>
        </div>
        
        {% endfor %}
        
    
        <div class="row">
            <div class="col s12 center-align">
                <button type="submit" class="btn-large light-blue darken-1">Leave Review<i class="fas fa-edit right"></i>
                </button>
            </div>
        </div>
    </form>
</div>


        
    




{% endblock %}